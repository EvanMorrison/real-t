<md-toolbar class="toolbar md-whiteframe-z2">
      <h3 class="view-frame" >Case List</h3>
</md-toolbar>
<md-content class="view-frame">
  
  <!-- Search Box -->
  <div flex="25" flex-offset="60">
        <md-input-container>
          <label><md-icon>search</md-icon> search cases</label>
          <input class="md-title" type="search" ng-model="ctrl.query"></input>
        </md-input-container>
  </div>
  
  <md-list ng-init="ctrl.selectedCase=null">
    <md-list-item layout="row" layout-wrap layout-align="space-between" >
      <h4 flex-gt-xs="10" flex="25" flex-offset-gt-xs="5" flex-offset-xs="10">Case #</h4>
      <h4 flex-gt-xs="20" flex md-truncate hide-xs>Property</h4>
      <h4 flex-gt-xs="20" flex hide-xs>Lender</h4>
      <h4 flex-gt-xs="20" flex >Borrower</h4>
      <h4 flex-gt-xs="20" flex >Loan Amount</h4>
    </md-list-item>

    <!-- list summary info for al cases -->
    <div  ng-repeat="case in ctrl.caseList | filter:ctrl.query | orderBy:ctrl.orderProp" class="case-list-item">
      <md-list-item layout="row"
            class="case-summary"
            ng-click="ctrl.toggleSelected($index)"
            >
        <!--expand button displays additional case details-->
        <md-button class="more-detail md-icon-button md-primary"
              ng-click="ctrl.toggleSelected($index)"
              ng-show="ctrl.selectedCase != $index">
            <md-icon>expand_more</md-icon>
        </md-button>
        <!--collapse button. visible only when details are shown-->
        <md-button class="less-detail md-icon-button md-primary"
              ng-click="ctrl.toggleSelected($index)"
              ng-show="ctrl.selectedCase === $index">
            <md-icon>expand_less</md-icon>
        </md-button>
        <div flex-gt-xs="10" flex="25" flex-offset-gt-xs="5" flex-offset-xs="10">{{case.caseId}}</div>
        <div flex-gt-xs="20" flex md-truncate hide-xs class="case-list-address">{{case.property.address}}</div>
        <div flex-gt-xs="20" flex md-truncate hide-xs>{{case.lender.name}}</div>
        <div flex-gt-xs="20" flex md-truncate >{{case.borrower.name}}</div>
        <div flex-gt-xs="20" flex md-truncate >{{case.loan.amount}}</div>
        <md-button  ng-click="ctrl.gotoCase(case)"
                    class="md-secondary md-icon-button" 
                    style="position:absolute;right:3em" >
          <md-icon>create</md-icon>
        </md-button>
        <md-button  ng-click="ctrl.deleteCase(case)"
                    class="md-secondary md-icon-button" 
                    style="position:absolute;right:1em" >
          <md-icon>cancel</md-icon>
        </md-button>
      </md-list-item>
        <md-divider ng-if="ctrl.selectedCase != $index"></md-divider>
        <ui-view case-expanded="case" selected-case="ctrl.selectedCase" index="$index" ></ui-view>
    </div>
    
        </md-list>
      </md-content>
